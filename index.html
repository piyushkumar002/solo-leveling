<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solo Leveling Stats</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="stats-container">
        <h1 class="title">Player Stats</h1>
        <div class="stat">
            <div class="stat-head">
                <div class="stat-cont">
                    <h1 class="title">LvL.</h1>
                    <p id="overall-lvl" class="lvl-txt">23</p>
                </div>
                
            </div>
        </div>
        <div class="stat">
            <span class="stat-name">STRENGTH:</span>
            <span id="strength" class="stat-value"><span id="k2value">Loading...</span></span>
            <span id="strength" class="stat-name">XP:<span id="l2value" class="stat-value">Loading...</span></span>
            <!-- <div class="incDecBtn">
                <button id="increase-strength-btn">+</button>
            <button id="decrease-strength-btn">-</button>
            </div> -->
            
        </div>
        <div class="stat">
            <span class="stat-name">PERCEPTION:</span>
            <span id="perception" class="stat-value"><span id="o2value">Loading...</span></span>
            <span id="perception" class="stat-name">XP:<span id="p2value" class="stat-value">Loading...</span></span>
            <!-- <div class="incDecBtn">
                <button id="increase-perception-btn">+</button>
            <button id="decrease-perception-btn">-</button>
            </div> -->
            
        </div>
        <div class="stat">
            <span class="stat-name">INTELLIGENCE:</span>
            <span id="intelligence" class="stat-value"><span id="c2value">Loading...</span></span>
            <span id="intelligence" class="stat-name">XP:<span id="b2value" class="stat-value">Loading...</span></span>
            <!-- <div class="incDecBtn">
                <button id="increase-intelligence-btn">+</button>
            <button id="decrease-intelligence-btn">-</button>
            </div> -->
            
        </div>

        <div class="stat">
            <span class="stat-name">AGILITY:</span>
            <span id="agility" class="stat-value"><span id="m2value">Loading...</span></span>
            <span id="agility" class="stat-name">XP:<span id="n2value" class="stat-value">Loading...</span></span>
            <!-- <div class="incDecBtn">
                <button id="increase-agility-btn">+</button>
            <button id="decrease-agility-btn">-</button>
            </div> -->
            
        </div>
        
        <!-- <button id="save-stats-btn">Save Stats</button>
        <button id="load-stats-btn">Load Stats</button> -->
    </div>

    <script src="script.js"></script>
    <script type="text/javascript">
        function fetchB2() {
          const sheetURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQck63Tfd4pErkjAwQU5-farHP9FQqh6MY_rxsEVgkkgZOpReF71KZUrznLheTmqOHJ7esZhKEt5X0P/pub?gid=1373134383&single=true&output=csv';
    
          fetch(sheetURL)
            .then(response => response.text())
            .then(csvText => {
              const rows = csvText.split('\n');

              const secondRow = rows[1]; // C2 is in the second row
              const columns = secondRow.split(',');

              // INT C2 VALUE CODE
              const c2Value = columns[2]; // Column C (index 2)
              document.getElementById('c2value').textContent = c2Value;

              // B2 VALUE CODE
              const b2Value = columns[1]; // Column B (index 1)
              document.getElementById('b2value').textContent = Math.round(b2Value);

              // STR K2 L2
              const k2Value = columns[11]; // Column B (index 1)
              document.getElementById('k2value').textContent = Math.round(k2Value);

              const l2Value = columns[12]; // Column C (index 2)
              document.getElementById('l2value').textContent = l2Value;

              // AGL M2 N2
              const m2Value = columns[13]; // Column B (index 1)
              document.getElementById('m2value').textContent = m2Value;

              const n2Value = columns[14]; // Column C (index 2)
              document.getElementById('n2value').textContent = Math.round(n2Value);

              // PER O2 P2
              const o2Value = columns[15]; // Column B (index 1)
              document.getElementById('o2value').textContent = Math.round(o2Value);

              const p2Value = columns[16]; // Column C (index 2)
              document.getElementById('p2value').textContent = p2Value;
              
              // r2 total lvl
              const r2Value = columns[18]; // Column C (index 2)
              document.getElementById('overall-lvl').textContent = r2Value;
            })
            .catch(error => {
              console.error('Error fetching data:', error);
              document.getElementById('overall-lvl').textContent = 'Error! Fetching some data';
            });
        }
    
        fetchB2();
      </script>
</body>
</html>
